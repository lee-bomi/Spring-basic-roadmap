# μ¤ν”„λ§ ν•µμ‹¬μ›λ¦¬ - κΈ°λ³ΈνΈ

### 3. μ¤ν”„λ§ ν•µμ‹¬ μ›λ¦¬ μ΄ν•΄2 - κ°μ²΄μ§€ν–¥ μ›λ¦¬ μ μ©

#### ν•™μµλ©ν‘

- κµ¬ν„μ²΄κ°€ μ—¬λ¬κ°μΌ κ²½μ° μ–΄λ–»κ² κ°μ•„λΌμ°λ”κ°€?

- κ°μ•„λΌμ°λ” κ³Όμ •μ΄ OCPμ™€ DIPλ¥Ό μ μ§€ν‚¤κ³  μλ”κ°€?

- μμJava vs Springμ‚¬μ©μ μ°¨μ΄

  

------

1. μƒλ΅μ΄ ν• μΈμ •μ±… κ°λ°

   - μ •λ¥  ν• μΈμ •μ±…μ„ μ¶”κ°€

     ![image-20210730212048297](C:\Users\BOMI\AppData\Roaming\Typora\typora-user-images\image-20210730212048297.png)

   - μƒλ΅μ΄ ν• μΈμ •μ±…μ„ λ°”κΏ” κ»΄μ¤€λ‹¤

     ![image-20210730214915762](C:\Users\BOMI\AppData\Roaming\Typora\typora-user-images\image-20210730214915762.png)

2. μƒλ΅μ΄ ν• μΈμ •μ±…μ λ¬Έμ μ 

   β  DIPμ„λ° - μΈν„°νμ΄μ¤ λΏλ§μ•„λ‹λΌ κµ¬ν„μ²΄μ—λ„ μμ΅΄

   ![image-20210730214732982](C:\Users\BOMI\AppData\Roaming\Typora\typora-user-images\image-20210730214732982.png)

   

   β  OCPμ„λ° - ν• μΈμ •μ±…μ„ λ°”κΏ”μ£Όλ ¤λ©΄ OrderServiceImplμ μ†μ¤μ½”λ“λ„ λ°”κΏ”μ¤μ•Όν•λ‹¤(λ³€κ²½ν•μ§€ μ•κ³  ν™•μ¥ = OCP)

   ![image-20210730214915762](C:\Users\BOMI\AppData\Roaming\Typora\typora-user-images\image-20210730214915762.png)

   π‘‰ OCPλ¥Ό μ„λ°ν•μ§€ μ•κ³  κµ¬ν„μ²΄λ¥Ό μ‚¬μ©ν•λ ¤λ©΄,  newλ΅ κµ¬ν„μ²΄λ¥Ό μ§μ ‘ λ„£μ–΄μ¤„κ²μ•„λ‹λΌ 

   β€‹      **λ„κµ°κ°€κ°€ OrderServiceImplμ— κµ¬ν„κ°μ²΄λ¥Ό μƒλ΅ μƒμ„±**ν•κ³  μ£Όμ…ν•΄μ¤μ•Όν•λ‹¤.

   

3. κ΄€μ‹¬μ‚¬μ λ¶„λ¦¬

   - μ„μ μ½”λ“μ—μ„λ” OrderServiceImplμ΄ μ–΄λ–¤ μΈν„°νμ΄μ¤ μƒ κ°μ²΄λ¥Ό λ§λ“¤λ©΄μ„ "λ‹¤μ–‘ν• μ±…μ„"μ„ κ°–κ²λλ‹¤

   - AppConfig(κ³µμ—°κΈ°νμ)λ” λ°°μ—­(μΈν„°νμ΄μ¤)λ¥Ό μ§€μ •ν•κ³  λ°°μ—­μ μΊμ¤ν…(κµ¬ν„μ²΄λ¥Ό λ„£μ–΄μ£Όλ”κ²ƒ)μ„ μν–‰ν•΄μ•Όν•¨

   - μ„μ μ½”λ“μ—μ„λ” λ°°μ—­(OrderServiceImpl)κ°€ μ§μ ‘ μΊμ¤ν…(new)μ„ ν•κ³ μλ‹¤

   - AppConfigκ°€ κµ¬ν„κ°μ²΄λ¥Ό μƒμ„± λ° μ—°κ²°ν•κ³ , ""μΈν„°νμ΄μ¤""λ” κ·Έ μ—­ν• μ—λ§ μ¶©μ‹¤ν•λ„λ΅ κ΄€μ‹¬μ‚¬λ¥Ό λ¶„λ¦¬ν•΄μ•Όν•λ‹¤

     

   **β”ServiceImplμ€ μƒμ„±μλ΅ μ£Όμ…λ°›μ„μ μκ² μμ •**

   ![image-20210731115547346](C:\Users\BOMI\AppData\Roaming\Typora\typora-user-images\image-20210731115547346.png)

   **β”AppConfig(κ³µμ—°κΈ°νμ) μ—μ„ μ›ν•λ”  κµ¬ν„μ²΄ μƒμ„± λ° μ—°κ²°**

   ![image-20210731115617092](C:\Users\BOMI\AppData\Roaming\Typora\typora-user-images\image-20210731115617092.png)

π‘‰ μ΄λ΅μΈν•΄ AppConfigμ€ κµ¬ν„μ²΄ μ—°κ²°μ„ λ‹΄λ‹Ήν•κ³ , μ—°κ²°λ κµ¬ν„μ²΄λ“¤μ€ ν•΄λ‹Ή μ½”λ“λ¥Ό μ‹¤ν–‰ν•λ” μ±…μ„λ§ κ°–λ”λ‹¤

![image-20210731120546525](C:\Users\BOMI\AppData\Roaming\Typora\typora-user-images\image-20210731120546525.png)

π‘‰DIPμ™„μ„± : MemberServiceImplμ€ MemberRepositoryμΈ μ¶”μƒν΄λμ¤μ—λ§ μμ΅΄ν•κ³ , κµ¬μ²΄ν΄λμ¤λ” λ°λΌλ„λλ‹¤.

(MemberServiceImpl κµ¬λ™μ— ν•„μ”ν• λ¶€κ°€μ μΈ μ—­ν• μ€ AppConfigκ°€ μ¤‘μ¬ν•΄μ¤€λ‹¤)

4. AppConfig λ¦¬ν©ν„°λ§

   κΈ°μ΅΄ AppConfig μ½”λ“λ” **<u>μ—­ν• μ— λ”°λ¥Έ κµ¬ν„μ΄ μ λ³΄μ΄μ§€ μ•μ</u>** 

   π‘‰  Ctrt+alt+M(Extract Method)λ¥Ό μ‚¬μ©ν•μ—¬ μ—­ν• κ³Ό κµ¬λ¶„μ΄ ν•λμ— λ³΄μ΄κ²λ” λ¦¬ν©ν† λ§ν•λ‹¤(μ¤‘λ³µμ κ±° λ° λ©”μ„λ“ν™”)

![image-20210731194148801](C:\Users\BOMI\AppData\Roaming\Typora\typora-user-images\image-20210731194148801.png)

5. SOLIDμ μ©

   - SRP(λ‹¨μΌμ±…μ„μ›μΉ™) : κµ¬ν„κ°μ²΄ μƒμ„± λ° μ—°κ²° = AppConfig / ν•΄λ‹Ήμ½”λ“μ‹¤ν–‰ = ν΄λΌμ΄μ–ΈνΈ κ°μ²΄

   - DIP(μ¶”μƒμ—μμ΅΄) : μƒμ„±μμ£Όμ…μΌλ΅ DIλ¥Ό λ°›μ•„, μ¶”μƒμ— μμ΅΄

   - OCP(ν΄λΌμ΄μ–ΈνΈμ½”λ“μμ •X) : AppConfigμ½”λ“λ§μ„ μμ •ν•μ—¬ κµ¬ν„μ²΄λ¥Ό λ°”κΏ€μμκ² μμ •κ°€λ¥

     

6. IoCμ»¨ν…μ΄λ„, DI

   - IoCμ»¨ν…μ΄λ„(=DIμ»¨ν…μ΄λ„) : AppConfigμ²λΌ μ μ–΄κ¶μ„ κ°€μ Έμ™€μ„ μμ΅΄κ΄€κ³„λ¥Ό μ΅°λ¦½ν•΄μ£Όλ”κ²ƒ

     (ν΄λΌμ΄μ–ΈνΈκ°μ²΄λ” κµ¬ν„κ°μ²΄κ°€ μ–΄λ–¤κ² μ—°κ²°λλ”μ§€ λ“±μ μ μ–΄κ¶μ„ κ°–κ³ μμ§€ μ•μ)

     

7. μ¤ν”„λ§μΌλ΅ μ „ν™ν•κΈ°

   - μμ Javaμ½”λ“ μ‚¬μ©![image-20210731203255118](C:\Users\BOMI\AppData\Roaming\Typora\typora-user-images\image-20210731203255118.png)

     - appConfigλ¥Ό μ‚¬μ©ν•μ—¬ μ§μ ‘ μΈμ¤ν„΄μ¤λ¥Ό νΈμ¶

       

   - μ¤ν”„λ§ μ‚¬μ©![image-20210731203326006](C:\Users\BOMI\AppData\Roaming\Typora\typora-user-images\image-20210731203326006.png)

     - ApplicationContext = μ¤ν”„λ§μ»¨ν…μ΄λ„

     - AppConfigμ—  returnν•λ” κ°μ²΄κ°€ μ¤ν”„λ§λΉμ— λ“±λ΅λλ‹¤.

     - λ“±λ΅λ μ¤ν”„λ§λΉμ„ κ°€μ Έμ¤λ” κ²ƒ => applicationContext.getBean("AppConfigμ λ©”μ„λ“λ…", "νƒ€μ…")

       

    β— μ¤ν”„λ§μ— ν™κ²½μ •λ³΄λ¥Ό μ£Όκ³ , μ›ν•λ” beanμ„ κ°€μ Έμ¬μμλ„λ΅ μ¤ν”„λ§μ΄ λ€μ‹ ν•΄μ¤€λ‹¤

   β“ ν•μ§€λ§ μ΄λ ‡κ²λ§λ³΄λ©΄ μ¤ν”„λ§μ„ μ‚¬μ©ν•λ”κ²ƒμ— λ€ν• μ΄μ μ΄ λ§μ΄ μ—†λ”λ“―ν•λ‹¤. (μ΄ μλ¬Έμ€ λ‹¤μμ„Ήμ…μ—μ„)



------

#### ν•™μµκ²°κ³Ό

- κµ¬ν„μ²΄κ°€ μ—¬λ¬κ°μΌ κ²½μ° μ–΄λ–»κ² κ°μ•„λΌμ°λ”κ°€?  

  π‘‰ μ¤‘μ¬μ(AppConfig)κ°€ κµ¬ν„μ²΄ μ„ νƒ λ° μ—°κ²°μ„ λ‹΄λ‹Ή, κ° κµ¬ν„μ²΄λ” μ‹¤ν–‰μ— μ§‘μ¤‘

- κ°μ•„λΌμ°λ” κ³Όμ •μ΄ OCPμ™€ DIPλ¥Ό μ μ§€ν‚¤κ³  μλ”κ°€? 

  π‘‰ κ° κµ¬ν„μ²΄μ—μ„ newλ΅ μƒλ΅μ΄ μΈμ¤ν„΄μ¤ μƒμ„±ν•μ§€μ•κ³  μ¤‘μ¬μλ¥Ό κ±°μ³ DIλ¥Ό ν•΄μ£Όλ©΄ 

  β€‹       OCP(ν΄λΌμ΄μ–ΈνΈ_ServiceImpl_λ¥Ό μμ •ν•μ§€ μ•κ³  λ³€κ²½ν•λ”κ²ƒ) ,DIP(μΈν„°νμ΄μ¤λ§ μμ΅΄ν•λ”κ²ƒ)

- μμJava vs Springμ‚¬μ©μ μ°¨μ΄

  π‘‰ Springμ— ν™κ²½μ„¤μ •μ„ λ“±λ΅ν•¨μΌλ΅μ¨, λ“±λ΅λ λΉμ„ μμ λ΅μ΄ κ°€μ Έμ™€ μ“Έ μ μκ²λμ—λ‹¤(μ•„μ§μ€ μ—¬κΈ°κΉμ§€λ§!)

